<% provide(:title, "Home") %>
<!--Item from shop collection-->
<div id="collection_box">
  <h1 id="popular_heading">Items</h1>
  <div class="collection_container">
    <div class="row">
      <div class="col-xs-6 col-md-8 col-centered">
        <div id="shopCollectionCarousel" data-ride="carousel" class="carousel-fade" data-interval="false">
          <div class="carousel-inner" role="listbox">
            <div class="carousel-caption">
              <a class="right carousel-control" href="#shopCollectionCarousel" role="button" data-slide="next">
                <div class="button_img">
                  <%= button_to savedToList_static_pages_path, :class=> "changeImg" do %>
                    <i id="buttonSave" class="glyphicon glyphicon-plus-sign"></i>
                  <% end %>
                </div>
              </a>
            </div>
            <div class="selection_to_save item active">
              <%= image_tag(@collectionURLS.first, class: "currImg img-responsive center-block",
                            :alt=>@collectionURLS.first) %>
              <div class="carousel-caption d-none d-md-block">
                <div class="item_title"><%= Image.where(url_name: @collectionURLS.first).pluck("title").first %></div>
                <div class="item_caption"><%= Image.where(url_name: @collectionURLS.first).pluck("caption").first %></div>
                <div class="item_price"><%= Image.where(url_name: @collectionURLS.first).pluck("price").first %></div>
              </div>
            </div>
            <% @collectionURLS.drop(1).each do |item| %>
              <div class="selection_to_save item">
                <%= image_tag(item, class: "currImg img-responsive center-block",
                              :alt=>item) %>
                <div class="carousel-caption d-none d-md-block">
                  <div class="item_title"><%= Image.where(url_name: item).pluck("title").first %></div>
                  <div class="item_caption"><%= Image.where(url_name: item).pluck("caption").first %></div>
                  <div class="item_price"><%= Image.where(url_name: item).pluck("price").first %></div>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!--Item from popular-->
<div class="container" id="popular_box">
  <h1 id="popular_heading">Popular</h1>
  <div class="popular_container">
    <div class="row" id="myCarousel">
      <div class="col-xs-12 col-md-12 col-lg-12 col-centered">
        <div id="shopPopularCarousel" class="carousel slide multi-item-carousel
            carousel-fade carousel_popular_change" data-type="multi" data-interval="false" data-ride="carousel">
          <div class="carousel-inner">
            <div class="popular_items item active">
              <div class="col-xs-4 ">
                <a target="_blank" href="#">
                  <%= image_tag(@popularURLS.first, class: "img-responsive center-block", :alt=>@popularURLS.first) %>
                </a>
                <div class="item_title"><%= Image.where(url_name: @popularURLS.first).pluck("title").first %></div>
                <div class="item_price"><%= Image.where(url_name: @popularURLS.first).pluck("price").first %></div>
              </div>
            </div>
            <% @popularURLS.drop(1).each do |item| %>
              <div class="popular_items item">
                <div class="col-xs-4">
                  <a target="_blank" href="#">
                    <%= image_tag(item, class: "img-responsive center-block", :alt=>item) %>
                  </a>
                  <div class="item_title"><%= Image.where(url_name: item).pluck("title").first %></div>
                  <div class="item_price"><%= Image.where(url_name: item).pluck("price").first %></div>
                </div>
              </div>
            <% end %>
          </div>

          <a class="left carousel-control" href="#shopPopularCarousel" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="right carousel-control" href="#shopPopularCarousel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="collection_groups_box">
  <h1 id="collection_groups_heading">Collection</h1>
  <p><%= link_to "Go to women", "women", class: "btn btn-lg btn-primary" %></p>
  <p><%= link_to "Go to men", "men", class: "btn btn-lg btn-primary" %></p>
  <p><%= link_to "Go to kids", "kids", class: "btn btn-lg btn-primary" %></p>
  <p><%= link_to "Go to new arrivals", "new_arrivals", class: "btn btn-lg btn-primary" %></p>
</div>

<!--Newsletter-->
<div class="newsletter">
  <h1 id="newsletter_heading">Newsletter</h1>
  <h4 id="newsletter_caption">Signup with our newsletter</h4>
  <div class="newsletter_container">

  </div>
</div>

<script>
  $('#buttonSave').on("click", function(e){
      e.preventDefault();
      $.ajax("/static_pages/savedToList")
  });

  // Instantiate the Bootstrap carousel
  $('.multi-item-carousel').carousel({
      interval: false
  });

  // for every slide in carousel, copy the next slide's item in the slide.
  // Do the same for the next, next item.
  $('.multi-item-carousel .item').each(function(){
      var next = $(this).next();
      if (!next.length) {
          next = $(this).siblings(':first');
      }
      next.children(':first-child').clone().appendTo($(this));

      if (next.next().length>0) {
          next.next().children(':first-child').clone().appendTo($(this));
      } else {
          $(this).siblings(':first').children(':first-child').clone().appendTo($(this));
      }
  });
</script>